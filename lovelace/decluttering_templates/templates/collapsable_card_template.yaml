collapsable_card_template:
  default:
    # Par창metros Principais
    - main_card_entity: null
    - main_card_name: '{{ state_attr(entity, ''friendly_name'') }}'

    # Par창metros do Mapeamento de Estado
    - state_map:
      - state: 'on'
        state_friendly: 'Ligado'
        contents:
          - state
        icon: mdi:power-plug
        icon_color: primary
      - state: 'off'
        state_friendly: 'Desligado'
        contents:
          - state
        icon: mdi:power-plug-off
        icon_color: disabled

    # Par창metros do Collapsable Button
    - collapsable_cards: null
  card:
    type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: calc(100% - 66px) 66px
      grid-template-rows: auto
      grid-template-areas: |
        "main_card collapsable_button"
        "collapsable_container collapsable_container"
    cards: 



# ==================================================
# |Area do Status                                  |
# ==================================================
      - type: custom:decluttering-card
        template: generic_status_template2
        variables:
          - entity: '[[main_card_entity]]'
          - name: '[[main_card_name]]'
          - state_map: '[[state_map]]'
          - ghost_border: left
          - extra_classes: collapsable_status collapsable_card show
        view_layout:
          grid-area: main_card



# ==================================================
# |Bot찾o de Expandir/Colapso                       |
# ==================================================
      - type: custom:mushroom-template-card
        primary: ''
        secondary: ''
        icon: mdi:chevron-right
        tap_action:
          action: toggle
        card_mod:
          class: ghost_card_right collapsable_card show
          style:
            mushroom-shape-icon$: |
              :host {
                --icon-border-radius: 12px
              }
              .shape {
                width: 100% !important;
              }
            mushroom-card$: |
              .container {
                flex-direction: column !important;
              }
            mushroom-state-item$: |
              .container {
                flex-direction: column !important;
                align-items: stretch !important;
              }
            .: >
              ha-card mushroom-shape-icon {
                --icon-color: var(--primary-text-color)
              }

              # ha-card ha-state-icon {
              #   mdi:chevron-right
              # }

              # ha-card ha-state-icon {
              #   mdi:chevron-down;
              # }
        view_layout:
          grid-area: collapsable_button



# ==================================================
# |Area do Container de Cards                      |
# ==================================================
      - type: custom:mod-card
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: auto
            grid-template-rows: auto
            margin: 0
          cards: '[[collapsable_cards]]'
        card_mod:
          class: collapsable_container collapsable_card show
          style:
            .: |
              ha-card.show {
                display: block;
              }
              ha-card:not(.show) {
                display: none;
              }
        view_layout:
          grid-area: collapsable_container
        
























